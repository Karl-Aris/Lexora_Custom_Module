<odoo>
    <!-- Form View: Delivery Tracking fields -->
    <record id="view_order_form_inherit_delivery_tracking" model="ir.ui.view">
        <field name="name">sale.order.form.delivery.tracking</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='other_information']/group" position="inside">
                <group string="Delivery Tracking">
                    <field name="x_delivery_status"/>
                    <field name="x_etd"/>
                    <field name="x_follow_up_required"/>
                    <field name="x_actual_delivery_date"/>
                    <field name="x_contacted"/>
                    <field name="x_contact_notes"/>
                </group>
            </xpath>
        </field>
    </record>
        <!-- Search View: Custom Filters under Delivery Tracking -->
        <record id="sale_order_view_search_inherit_quotation" model="ir.ui.view">
        <field name="name">sale.order.search.inherit.quotation</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_sales_order_filter"/>
        <field name="arch" type="xml">
    
          <xpath expr="//filter[@name='my_quotations']" position="after">
            <filter string="Delivery Tracking" name="delivery_tracking_group" context="{'group_by':None}">
              <group expand="0" string="Delivery Tracking">
                
                <!-- Delivery Status Filters -->
                <filter string="Shipped"
                        name="delivery_status_shipped"
                        domain="[('x_delivery_status','=','shipped')]"/>
                <filter string="Not Shipped"
                        name="delivery_status_not_shipped"
                        domain="[('x_delivery_status','=','not_shipped')]"/>
                <filter string="Partially Shipped"
                        name="delivery_status_partial"
                        domain="[('x_delivery_status','=','partial')]"/>
                
                <!-- ETD Filters -->
                <filter string="ETD Today"
                        name="etd_today"
                        domain="[('x_etd','=','today')]"/>
                <filter string="ETD Tomorrow"
                        name="etd_tomorrow"
                        domain="[('x_etd','=','tomorrow')]"/>
                <filter string="ETD Next Week"
                        name="etd_next_week"
                        domain="[('x_etd','=','next_week')]"/>
                
                <!-- Combined Custom Filter -->
                <filter string="ETD Today &amp; Delivered but Not Contacted"
                        name="etd_today_delivered_not_contacted"
                        domain="[('x_etd','=','today'), ('x_delivery_status','=','delivered'), ('x_contacted','=',False), ('carrier_tracking_ref','!=',False), ('x_studio_carrier','!=',False)]"/>
              </group>
            </filter>
          </xpath>
        </field>
      </record>
</odoo>
